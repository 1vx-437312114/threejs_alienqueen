<!DOCTYPE html><html lang=en><title>three.js webgl - alien queen</title><meta charset=utf-8><link href=css/pace_center_circle.css rel=stylesheet><style>body{background:#000;color:#fff;padding:0;margin:0;overflow:hidden;font-family:sans-serif;text-align:center}#info{position:absolute;top:0;width:80%;padding:5px;font-family:sans-serif;font-size:14px;font-weight:700;text-align:center;z-index:100}a{color:red}</style><div id=info><a href=http://github.com/mrdoob/three.js>three.js</a> - webgl normal + specular + AO + diffuse map + postprocessing by <font color=orange><b>1vx 437312114</b></font><br>alien queen mesh by <a href="http://www.scifi3d.com/author_details.asp?key=235">Franz Muenz</a>, planet surface and textures by <a href=https://nasa3d.arc.nasa.gov/detail/moon-nearside-farside>N A S A</a></div><script src=js/pace.min.js></script><script src=js/dat.gui.min.js></script><script src=js/three.min.js></script><script src=js/PLYLoader.js></script><script src=js/CopyShader.js></script><script src=js/EffectComposer.js></script><script src=js/RenderPass.js></script><script src=js/ShaderPass.js></script><script src=js/FXAAShader.js></script><script src=js/Detector.js></script><script src=js/stats.min.js></script><script src=js/TexturePass.js></script><script src=js/VignetteShader.js></script><script src=js/FilmPass.js></script><script src=js/FilmShader.js></script><script src=js/GammaCorrectionShader.js></script><script>function $(e){return document.getElementById(e)}function init(){container=document.createElement("div"),document.body.appendChild(container);var e=window.innerWidth/window.innerHeight;camera=new THREE.PerspectiveCamera(16,SCREEN_WIDTH/SCREEN_HEIGHT,.1,500),camera.position.y=0,camera.position.z=13,camera.up=new THREE.Vector3(0,1,0),camera.lookAt(new THREE.Vector3(0,0,0)),camera.aspect=e,camera.updateProjectionMatrix(),scene=new THREE.Scene,parent=new THREE.Object3D,scene.add(parent);scene.fog=new THREE.Fog(328448,8,14.5),scene.fog.color=fogColor,pointLight=new THREE.PointLight(16777215,.9),pointLight.distance=130,pointLight.position.set(0,0,3),parent.add(pointLight);var t=new THREE.DirectionalLight(16777215,.9);t.position.set(0,1,1),t.position.normalize(),scene.add(t),renderer=new THREE.WebGLRenderer({clearColor:8721,clearAlpha:1,antialias:!0}),renderer.setSize(SCREEN_WIDTH,SCREEN_HEIGHT),renderer.gammaInput=!0,renderer.gammaOutput=!0,renderer.domElement.style.position="relative",renderer.domElement.style.top="0px",container.appendChild(renderer.domElement),renderer.setClearColor(fogColor,1),initPostprocessing(),initGUI(),loadResources()}function initPostprocessing(){effectFXAA=new THREE.ShaderPass(THREE.FXAAShader),effectFXAA.uniforms.resolution.value.set(1/window.innerWidth,1/window.innerHeight),effectFXAA.renderToScreen=!0,effectFilm=new THREE.FilmPass,effectFilm.uniforms.nIntensity.value=.1,effectFilm.uniforms.sIntensity.value=.025,effectFilm.uniforms.sCount.value=648,effectFilm.uniforms.grayscale.value=0,effectFilm.renderToScreen=!1,effectVignette=new THREE.ShaderPass(THREE.VignetteShader),effectVignette.uniforms.screenWidth.value=width,effectVignette.uniforms.screenHeight.value=height,effectVignette.uniforms.vingenettingOffset.value=.95,effectVignette.uniforms.vingenettingDarkening.value=.2,effectVignette.uniforms.sampleDistance.value=.005,effectVignette.uniforms.waveFactor.value=0,effectVignette.renderToScreen=!1,renderPass=new THREE.RenderPass(scene,camera);var e={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!0};composerScene=new THREE.EffectComposer(renderer,new THREE.WebGLRenderTarget(width,height,e)),composerScene.addPass(renderPass),renderScene=new THREE.TexturePass(composerScene.renderTarget2.texture),renderScene.uniforms.tDiffuse.value=composerScene.renderTarget2.texture,effectComposer=new THREE.EffectComposer(renderer,new THREE.WebGLRenderTarget(width,height,e)),effectComposer.addPass(renderScene),effectComposer.addPass(effectFilm),effectComposer.addPass(effectVignette),effectComposer.addPass(effectFXAA)}function initGUI(){var e=new dat.GUI;e.add(parameters,"noiseIntensity").name("noise intensity").min(0).max(1).step(.1).onChange(function(e){effectFilm.uniforms.nIntensity.value=e}),e.add(parameters,"grayscale").onChange(function(e){e?effectFilm.uniforms.grayscale.value=1:effectFilm.uniforms.grayscale.value=0}),e.add(parameters,"postprocessing")}function loadResources(){loadMeshes(function(){animate()})}function loadMeshes(e){var t=new THREE.PLYLoader;t.load("obj/surface_plane.ply",function(e){createGround(e)}),t.load("obj/queen.ply",function(e){createAlienQueen(e)}),t.load("obj/alien_egg.ply",function(e){createAlienEggs(e)}),t.load("obj/facehugger.ply",function(e){createFacehugger(e)}),e()}function createGround(e){e.computeVertexNormals();var t=new THREE.TextureLoader,n=t.load("textures/surface_DIFF.jpg"),r=t.load("textures/surface_NRM.jpg"),a=t.load("textures/surface_SPEC.jpg"),o=new THREE.MeshPhongMaterial({color:16777215,vertexColors:THREE.VertexColors,map:n,normalMap:r,normalScale:new THREE.Vector2(4.8,4.8),specular:16777215,specularMap:a,shininess:5.5,side:THREE.DoubleSide}),i=new THREE.Mesh(e,o);i.position.set(-.8,-1.55,0),i.scale.set(10,10,10),i.updateMatrix(),i.matrixAutoUpdate=!1,i.castShadow=!1,i.receiveShadow=!0,parent.add(i)}function createAlienQueen(e,t,n,r,a){e.computeVertexNormals();var o=new THREE.TextureLoader,i=o.load("textures/black_glossy_texture.png"),s=o.load("textures/roughnessMap.png"),c=new THREE.MeshBasicMaterial({color:16777215,vertexColors:THREE.VertexColors});i.mapping=THREE.SphericalReflectionMapping,c.envMap=i,s.magFilter=THREE.NearestFilter,c.roughnessMap=s;var d=new THREE.Mesh(e,c);d.position.set(0,0,-4),d.scale.set(5,5,5),d.updateMatrix(),d.matrixAutoUpdate=!1,parent.add(d),shadowMap=o.load("textures/shadowAlpha.png");var l=new THREE.MeshLambertMaterial({color:16711680,opacity:.9,transparent:!0,map:shadowMap,polygonOffset:!0,polygonOffsetFactor:-1,polygonOffsetUnits:1}),p=new THREE.PlaneGeometry(2,6),f=new THREE.Mesh(p,l);f.rotation.x=-1.57,f.position.set(0,-1,-3.5),f.updateMatrix(),f.matrixAutoUpdate=!1,parent.add(f)}function createAlienEggs(e){function t(e,t,r,a,o,s){var c=new THREE.Mesh(e,i);c.rotation.y=s,c.position.set(t,r,a),c.scale.set(o,o,o),c.updateMatrix(),c.matrixAutoUpdate=!1,parent.add(c),shadowMap=n.load("textures/shadowAlpha.png");var d=new THREE.MeshLambertMaterial({color:16711680,opacity:.9,transparent:!0,map:shadowMap,polygonOffset:!0,polygonOffsetFactor:-1,polygonOffsetUnits:1}),l=new THREE.PlaneGeometry(1,3),p=new THREE.Mesh(l,d);p.rotation.x=-1.57,p.position.set(t,r+.1,a-1),p.updateMatrix(),p.matrixAutoUpdate=!1,parent.add(p)}e.computeVertexNormals();var n=new THREE.TextureLoader,r=n.load("textures/alien_egg_DIFF.jpg"),a=n.load("textures/alien_egg_NRM.jpg"),o=n.load("textures/alien_egg_SPEC.jpg"),i=(n.load("textures/facehugger_DIFF.jpg"),n.load("textures/facehugger_NRM.jpg"),n.load("textures/facehugger_SPEC.jpg"),new THREE.MeshPhongMaterial({color:16777215,vertexColors:THREE.VertexColors,map:r,normalMap:a,normalScale:new THREE.Vector2(2,2),specular:16777215,specularMap:o,shininess:3,side:THREE.DoubleSide}));t(e,-1.85,-1.14,-3.1,.5,0),t(e,1.5,-1.09,-2.6,.5,0),t(e,-.9,-1.15,-.5,.5,Math.PI/4),t(e,1.2,-1.11,-.5,.5,22*Math.PI/180)}function createFacehugger(e){e.computeVertexNormals();var t=new THREE.TextureLoader,n=t.load("textures/facehugger_DIFF.jpg"),r=t.load("textures/facehugger_NRM.jpg"),a=t.load("textures/facehugger_SPEC.jpg"),o=new THREE.MeshPhongMaterial({color:16777215,vertexColors:THREE.VertexColors,map:n,normalMap:r,normalScale:new THREE.Vector2(2,2),specular:16777215,specularMap:a,shininess:3,side:THREE.DoubleSide}),i=new THREE.Mesh(e,o);i.rotation.y=-1*Math.PI/180,i.position.set(-1.2,-1.12,-3.1),i.scale.set(.5,.5,.5),i.updateMatrix(),i.matrixAutoUpdate=!1,parent.add(i),shadowMap=t.load("textures/shadowAlpha.png");var s=new THREE.MeshLambertMaterial({color:16711680,opacity:.9,transparent:!0,map:shadowMap,polygonOffset:!0,polygonOffsetFactor:-1,polygonOffsetUnits:1}),c=new THREE.PlaneGeometry(.45,3.5),d=new THREE.Mesh(c,s);d.rotation.x=-Math.PI/2,d.position.set(-1.2,-1.08,-3.5),d.updateMatrix(),d.matrixAutoUpdate=!1,parent.add(d)}function animate(){requestAnimationFrame(animate),render()}function clamp(e,t,n){return e<t?t:e>n?n:e}function render(){fogColor.setHSL(.58,.32,v),renderer.setClearColor(fogColor,1),v+=.001*d,(v>=.7||v<=.01||Math.random()<.01)&&(d*=-1),targetX=3.14+.001*mouseX,targetY=.003*mouseY+.45,parent.rotation.y+=.05*(targetX-parent.rotation.y),parent.rotation.x+=.05*(targetY-parent.rotation.x),parent.rotation.x=clamp(parent.rotation.x,2*Math.PI/180,90*Math.PI/180),parent.rotation.y=clamp(parent.rotation.y,140*Math.PI/180,206.75*Math.PI/180),h=clamp(h+.0025*(.5-Math.random()),.025,.07),pointLight.color.setHSL(h,.95,1),pointLight.intensity=clamp(pointLight.intensity+.05*(.7-Math.random()),.6,.9),renderer.clear(),parameters.postprocessing?(composerScene.render(1e-5),effectComposer.render(1e-5)):renderer.render(scene,camera)}function onDocumentMouseMove(e){mouseX=e.clientX-windowHalfX,mouseY=e.clientY-windowHalfY}function onWindowResize(){var e=window.innerWidth,t=window.innerHeight,n=e/t;camera.aspect=n,camera.updateProjectionMatrix(),renderer.setSize(e,t),composerScene.setSize(e,t),effectFXAA.uniforms.resolution.value.set(1/window.innerWidth,1/window.innerHeight),effectVignette.uniforms.screenWidth.value=e,effectVignette.uniforms.screenHeight.value=t,effectComposer.setSize(e,t),renderScene.uniforms.tDiffuse.value=composerScene.renderTarget2.texture}Detector.webgl||Detector.addGetWebGLMessage();var STRIP=0,SCREEN_WIDTH=window.innerWidth,SCREEN_HEIGHT=window.innerHeight-0,FOG_NEAR=8,FOG_FAR=14.5,container,stats,camera,scene,loaded,renderer,parent,pointLight,particles,uniforms,meshLava,fogColor=new THREE.Color(0);fogColor.setHSL(.1,.36,0);var mouseX=0,mouseY=0,targetX=0,targetY=0,width=window.innerWidth,height=window.innerHeight,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,renderPass,effectComposer,composerScene,renderScene,effectVignette,effectFXAA,effectFilm,delta=1e-5,parameters={noiseIntensity:.1,grayscale:!1,postprocessing:!0};document.addEventListener("mousemove",onDocumentMouseMove,!1),window.addEventListener("resize",function(){return onWindowResize()},!1),init();var h=.05,v=.45,d=1</script>